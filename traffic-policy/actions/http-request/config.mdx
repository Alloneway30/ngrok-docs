import {
	Config,
	ConfigEnum,
	ConfigEnumOption,
	ConfigItem,
	ConfigChildren 
} from "/src/components/ConfigTable.tsx";

## Configuration Reference

The [Traffic Policy](/traffic-policy/) configuration
reference for this action.

### Supported Phases

`on_tcp_connect`, `on_http_request`, `on_http_response`

### Type

`http-request`

### Configuration Fields

<Config>
	<ConfigItem title="url" type="string" required={true} cel={true}>
		<p>
		  The destination for the http request.
		</p>
	</ConfigItem>
	<ConfigItem title="method" type="enum">
		<p>
		  The http request method.
		</p>
		<ConfigEnum>
			<ConfigEnumOption>`GET` (default)</ConfigEnumOption>
			<ConfigEnumOption>`PUT`</ConfigEnumOption>
			<ConfigEnumOption>`POST`</ConfigEnumOption>
			<ConfigEnumOption>`PATCH`</ConfigEnumOption>
			<ConfigEnumOption>`DELETE`</ConfigEnumOption>
			<ConfigEnumOption>`OPTIONS`</ConfigEnumOption>
		</ConfigEnum>
	</ConfigItem>
	<ConfigItem title="query_params" type="list of objects" cel={true}>
	  <ConfigChildren>
		  <ConfigItem title="key" type="string" cel={true}>
			  <p>
				  Query param key.
				</p>
			</ConfigItem>
		  <ConfigItem title="value" type="string" cel={true}>
			  <p>
				  Query param value.
				</p>
			</ConfigItem>
	  </ConfigChildren>
	</ConfigItem>
	<ConfigItem title="headers" type="object" cel={true}>
		<p>
		  Map of header key to header value to be added.
		</p>
	</ConfigItem>
	<ConfigItem title="body" type="string" cel={true}>
		<p>
		  The request body.
		</p>
	</ConfigItem>
	<ConfigItem title="max_redirects" type="int">
		<p>
		  Maximum allowed redirects.
		</p>
	</ConfigItem>
	<ConfigItem title="timeout" type="time">
		<p>
		  Maximum wait across all request attempts.
		</p>
	</ConfigItem>
	<ConfigItem title="retry_condition" type="string" cel={true}>
		<p>
		  Accepts a cel expression that determines whether to retry the request.
		</p>
	</ConfigItem>
	<ConfigItem title="on_error" type="enum">
		<p>
			Whether or not further actions in the Traffic Policy should run if there
			is an error.
		</p>
		<ConfigEnum>
			<ConfigEnumOption>`continue` (default)</ConfigEnumOption>
			<ConfigEnumOption>`halt`</ConfigEnumOption>
		</ConfigEnum>
	</ConfigItem>
</Config>
